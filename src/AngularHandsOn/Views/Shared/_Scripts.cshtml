
@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Xsrf
<environment names="Development">
    <!-- Library Scripts -->
    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="~/lib/angular/angular.min.js"> </script>
    <script src="~/lib/angular-route/angular-route.min.js"></script>
    <script src="~/lib/angular-cookies/angular-cookies.min.js"></script>
    <script src="~/lib/angular-mocks/angular-mocks.js"></script>
    <script src="~/lib/angular-resource/angular-resource.js"></script>
    <script src="~/lib/angular-ui-router/angular-ui-router.js"></script>
    <script src="~/lib/toastr.js"></script>
    <script src="~/lib/ui-bootstrap-tpls-0.11.0.js"></script>
    <script src="~/lib/ui-utils.js"></script>
    <!-- Application Script -->
    <script src="~/js/bookapp/app.js"></script>
    <!-- Product Controllers -->
    <script src="~/js/bookapp/books/BooksController.js"></script>
    <script src="~/js/bookapp/books/AddBookController.js"></script>
    <script src="~/js/bookapp/books/EditBookController.js"></script>

    <!-- Services -->
    <script src="~/js/bookapp/services/dataService.js"></script>
    <script src="~/js/bookapp/services/loggerService.js"></script>
    <script src="~/js/bookapp/services/constantService.js"></script>
    <script src="~/js/bookapp/services/badgeService.js"></script>
    <script src="~/js/bookapp/services/bookResource.js"></script>
    <script src="~/js/bookapp/services/bookResourceMock.js"></script>

    <!-- Application Script -->
    <script src="~/js/prodmanagmentapp/app.js"></script>
    <!-- Services -->
    <script src="~/js/common/services/common.services.js"></script>
    <script src="~/js/common/services/productResource.js"></script>
    <script src="~/js/common/services/productResourceMock.js"></script>
    <!-- Product Controllers -->
    <script src="~/js/prodmanagmentapp/products/productListCtrl.js"></script>
    <script src="~/js/prodmanagmentapp/products/productDetailCtrl.js"></script>
    <script src="~/js/prodmanagmentapp/products/productEditCtrl.js"></script>


    <link href="~/css/bootstrap.cerulean.min.css" rel="stylesheet" />
    <!-- Application Script -->
    <script src="~/js/schoolapp/app.js"></script>
    <!-- Product Controllers -->
    <script src="~/js/schoolapp/filters/activityMonthFilter.js"></script>
    <script src="~/js/schoolapp/controllers/HomeController.js"></script>
    <script src="~/js/schoolapp/controllers/ClassroomController.js"></script>
    <script src="~/js/schoolapp/controllers/AllActivitiesController.js"></script>
    <script src="~/js/schoolapp/controllers/AllClassroomsController.js"></script>
    <script src="~/js/schoolapp/controllers/AllSchoolsController.js"></script>

    <!-- Services -->
    <script src="~/js/schoolapp/services/helper.js"></script>
    <script src="~/js/schoolapp/services/dataService.js"></script>
    <script src="~/js/schoolapp/services/notifier.js"></script>

    <!-- Angular Directive App -->
    <script src="~/js/ngdirectiveapp/app.js"></script>

    <!-- 1. Load libraries -->
    <!-- Polyfill(s) for older browsers -->
    <script src="~/lib1/core-js/client/shim.min.js"></script>
    <script src="~/lib1/zone.js/dist/zone.js"></script>
    <script src="~/lib1/reflect-metadata/Reflect.js"></script>
    <script src="~/lib1/systemjs/dist/system.src.js"></script>
    <script src="~/js/dataService.js"></script>
    <!-- 2. Configure SystemJS -->
    <script src="~/systemjs.config.js"></script>
    <script>
        System.import('app').catch(function (err) { console.error(err); });
    </script>
</environment>
<environment names="Staging,Production">
    <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.0.min.js"
            asp-fallback-src="~/lib/jquery/dist/jquery.min.js"
            asp-fallback-test="window.jQuery">
    </script>
    <script src="https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/bootstrap.min.js"
            asp-fallback-src="~/lib/bootstrap/dist/js/bootstrap.min.js"
            asp-fallback-test="window.jQuery && window.jQuery.fn && window.jQuery.fn.modal">
    </script>
    <script src="~/js/site.min.js" asp-append-version="true"></script>

</environment>

@functions
{
    public string GetAntiXsrfRequestToken()
    {
        return Xsrf.GetAndStoreTokens(Context).RequestToken;
    }
}
<script>
    $(document).ready(function () {
        $('#addSchool').click(function (e) {
            e.preventDefault();
            var url = '@Url.Action("SchoolsList", "Home")';
            var data = {
                SchoolId: "",
                Date: "1/1/2011",
                Name: $('#Name')[0].value,
                Principal: $('#Name')[0].value
            };
            addSchoolAndUpdateList(url, data);
        })

        addSchoolAndUpdateList = function (url, data) {
            dataService.addSchool(data)
                .done(function (data1) {
                    $.get(url)
                        .done(function (data1) {
                            $('#schoolsList').html(data1);
                        })
                        .fail(function (jqXHR, textStatus, error) {
                            console.log(textStatus);
                        })
                })
                .fail(function(jqXHR, textStatus, error) {
                    console.log(textStatus);
                });
        }
    })
    @*Crap Code
    var formdata = new FormData($('form').get(0));
    //$.post('/home/AddSchool', { id: id }, function (data) {
    //    $('#addOrUpdateSchool').html(data);
    //})
    var formdata1 = new FormData();
    formdata1.append('name', 'sdsds');
            @*'@Url.Content("~/Home/AddSchool")';
            @*$.ajax(PostToUrl, {
                type: "post",
                data: formdata,
                dataType: "json",
                headers: {
                    "RequestVerificationToken": '@GetAntiXsrfRequestToken()'
                }
            })*@

</script>